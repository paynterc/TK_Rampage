<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_boss_hive1</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>obj_boss</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>604</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_inherited</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Init OVERRIDE  

image_speed=.25;
hp=500;
hpmax = hp;
movespeed = 5;
dir = 1;//1 or -1. muliply by movespeed

move_state_time = 5;
eyebeam_frequency = 5;
changeCount = 0;

eyebeam_bullet_sprite = spr_pulse;
eyebeam_firerate = .20;
eyebeam_bullet_speed = 12;

eyebeams=noone;
// x,y offsets for each eybeam origin on the sprite
eyebeams[0, 0] = 24;
eyebeams[0, 1] = 78;
eyebeams[1, 0] = 77;
eyebeams[1, 1] = 28;
eyebeams[2, 0] = 129;
eyebeams[2, 1] = 55;
eyebeams[3, 0] = 186;
eyebeams[3, 1] = 75;
state = STATE_GB_INIT;
alarm[0] = room_speed * 10;
/******************
states
0 init
1 move
2 eyebeams
3 spawn

*******************/
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="9">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Reforming stage 2
state = STATE_GB_BOSS_REFORMING;
sprite_index = spr_boss_hivemind_forming2;
image_alpha = 1;
alarm[0]=room_speed*4;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="8">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Reforming. Recall spawns
var homeWaypoint = noone;
homeWaypoint[0,0]=x;
homeWaypoint[0,1]=y;
with(obj_hivemind_spawn){
    waypoints = homeWaypoint;
    wpi=0;
    depth=-100000;
}
state = STATE_GB_BOSS_REFORMING;
sprite_index = spr_boss_hivemind_forming;
image_alpha = 1;
intangible=false;
alarm[9]=room_speed*4;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Toggle mode

if(changeCount==1){
    changeCount=0;
    state = STATE_GB_BOSS_SPAWNING;
}else{
    state = STATE_GB_BOSS_TRX_1;
    sprite_index = spr_boss_hive_trx1;//transition animation

    changeCount++;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="6">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Fire beam bullets
var x0=x-106;
var y0=y-106;
var xx,yy;
for(var i=0;i&lt;4;i++){
    xx = x0+eyebeams[i,0];
    yy = y0+eyebeams[i,1]; 
    bullet = instance_create(xx,yy, obj_bullet);
    bullet.sprite_index = eyebeam_bullet_sprite;
    bullet.direction = 270;
    bullet.image_angle = 270;
    bullet.speed = eyebeam_bullet_speed;
    bullet.depth_mod=100000;
}

if(state==STATE_GB_BOSS_ATTACK1){
    alarm[6]=room_speed * eyebeam_firerate;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Eyebeams - DEPRECATED. SEE ALARM 7
show_debug_message("SHOOTING BOSS");
state = STATE_GB_BOSS_ATTACK1;
sprite_index = spr_boss_hive_attack;
alarm[0]=room_speed * move_state_time;
alarm[6]=1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Move Mode

state = STATE_GB_BOSS_MOVE;
sprite_index=spr_boss_hive1;
image_alpha=1;
with(obj_hivemind_spawn){
    instance_destroy();
}
sprite_index=spr_boss_hive1;
alarm[7]=room_speed * eyebeam_frequency;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>604</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_inherited</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// State machine
// 0 init, 1 move, 2 fire1, 3 fire2

switch (state)
{
    case STATE_GB_INIT: scr_boss1_init(); break;
    case STATE_GB_BOSS_MOVE: scr_boss1_move(); break;
    case STATE_GB_BOSS_TRX_1: scr_boss2_trx1();break;
    case STATE_GB_BOSS_ATTACK1: scr_boss2_eyebeams(); break;
    case STATE_GB_EXPLODING: scr_boss1_explode(); break;
    case STATE_GB_BOSS_SPAWNING: scr_boss2_spawner(); break;
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
